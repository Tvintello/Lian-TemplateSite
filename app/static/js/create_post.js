$((function(){$("#images").on("change",(function(){let e=document.getElementById("images").files,i=[];if(void 0!==e){str=$("#post_image");for(let t=0;e.length>t;t+=1)if(e[t].type.startsWith("image/")){let n=new FileReader;n.readAsDataURL(e[t]),n.onload=function(){$(".image_list__body").append(str.clone().prop("id",""));let l=document.querySelector(".image_list__item:last-child img");l.file=e[t];let s=document.querySelector(".image_list__item:last-child .image_name"),a=e[t].name.split(".").slice(0,-1);s.innerHTML="file name: "+a,l.src=n.result,i.push(l.file),$(".image_list__item:last-child .copy_image").click((function(){let e=$(this).parent().index()-1,t=i[e].name;navigator.clipboard.writeText(`/load_post_image/{{id}}/${t}`).then((function(){alert("The image link was successfully copied")}),(function(e){alert("An error has occured while copying")}))})),$(".image_list__item:last-child .delete_image").click((function(){t=$(this).parent().index()-1,i.splice(t,1),$(this).parent().remove(),console.log(i)}))}}}})),$(".form_submit").submit((function(e){for(file of(dt=new DataTransfer,post_images))dt.items.add(file);document.getElementById("#images").files=dt.files})),$(".show_btn").on("click",(function(){$(this).css("display","none"),$(".hide_btn").css("display","block"),$(".image_list__body").css("height","auto")})),$(".hide_btn").on("click",(function(){$(this).css("display","none"),$(".show_btn").css("display","block"),$(".image_list__body").css("height",0)})),$("#heading").on("change",(function(){let e=document.getElementById("heading").files,i=e[e.length-1];var t;if(0!=e.length){if($(".heading_preview").css("display","flex"),$(".heading_preview img").css("margin-bottom","15px"),$(".heading_preview p").html("Heading image"),i.type.startsWith("image/")){let e=document.querySelector(".heading_preview img");e.file=i;let n=new FileReader;n.onload=(t=e,function(e){t.onload=function(){t.width>t.height?(t.style.width="100%",t.style.height="auto"):t.width<t.height&&(t.style.height="100%",t.style.width="auto")},t.src=e.target.result}),n.readAsDataURL(i)}}else $(".heading_preview").css("display","none")})),$("#delete_heading").on("click",(function(){$(".heading_preview img").prop({src:"",file:""}),$(".heading_preview").css("display","none"),$("#heading").val("")}))}));